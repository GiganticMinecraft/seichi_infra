# TCPShield から BungeeCord へと接続を受け取るためのサービス設定
apiVersion: v1
kind: Service
metadata:
  name: bungeecord
spec:
  type: LoadBalancer
  loadBalancerClass: io.cilium/bgp-control-plane
  ports:
    - name: bungee
      port: 25565
      protocol: TCP
      targetPort: bungeecord
  selector:
    app: bungeecord
  loadBalancerSourceRanges:
    # TCPShield 以外からの接続は拒否する
    # https://tcpshield.com/v4
    - 198.178.119.0/24
    - 104.234.6.0/24
    - 51.161.19.224/27
    - 51.222.93.0/27
    - 51.222.93.32/27
    - 51.222.92.224/27
    - 51.178.221.0/27
    - 51.77.31.32/27
    - 51.89.81.0/27
    - 51.89.81.32/27
    - 51.195.87.96/27
    - 51.195.87.128/27
    - 51.195.52.0/27
    - 141.95.23.0/27
    - 141.95.62.224/27
    - 146.59.66.0/27
    - 146.59.66.32/27
    - 146.59.65.224/27
    - 51.81.4.128/29
    - 51.222.55.28/30
    - 149.56.152.184/30
    - 158.69.58.208/30
    - 51.79.61.228/30
    - 51.178.244.40/30
    - 178.32.145.164/30
    - 5.196.219.36/30
    - 51.89.127.36/30
    - 54.36.236.48/30
    - 54.38.216.200/30
    - 51.75.85.108/30
    - 51.38.153.44/30
    - 51.83.245.80/30
    - 135.125.217.68/32
    - 212.102.60.221/32
    - 51.38.151.22/31
    - 51.38.151.24/31
    - 148.113.4.164/31
